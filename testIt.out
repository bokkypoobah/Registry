
  Registry
    RegistryExchange
      deployFixture - deployer: 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
      deployFixture - user0: 0x70997970C51812dc3A010C7d01b50e0d17dc79C8
      deployFixture - user1: 0x3C44CdDdB6a900fa2b585dd299e03d12FA4293BC
      deployFixture - user2: 0x90F79bf6EB2c4f870365E785982E1f101E93b906
      deployFixture - weth: 0x5FbDB2315678afecb367f032d93F642f64180aa3
      deployFixture - registry: 0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512
      deployFixture - registryReceiver: 0xCafac3dD18aC6c6e92c921884f9E4176737C052c
      deployFixture - registryExchange: 0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0

      > txWethTransfer0 - gasUsed: 51421 ~ ETH 0.00102842 ~ USD 2.05684 @ gasPrice 20.0 gwei, ETH/USD 2000.0
        + weth:0x5FbD -> 4.0 Transfer(from: deployer:0xf39F, to: user0:0x7099, tokens: 1000000000000000000000)
      > txWethTransfer1 - gasUsed: 51409 ~ ETH 0.00102818 ~ USD 2.05636 @ gasPrice 20.0 gwei, ETH/USD 2000.0
        + weth:0x5FbD -> 5.0 Transfer(from: deployer:0xf39F, to: user1:0x3C44, tokens: 1000000000000000000000)
      > txWethTransfer2 - gasUsed: 51421 ~ ETH 0.00102842 ~ USD 2.05684 @ gasPrice 20.0 gwei, ETH/USD 2000.0
        + weth:0x5FbD -> 6.0 Transfer(from: deployer:0xf39F, to: user2:0x90F7, tokens: 1000000000000000000000)
      > txWethApprove0 - gasUsed: 46179 ~ ETH 0.00092358 ~ USD 1.84716 @ gasPrice 20.0 gwei, ETH/USD 2000.0
        + weth:0x5FbD -> 7.0 Approval(tokenOwner: user0:0x7099, spender: registryExchange:0x9fE4, tokens: 1111111111111000000000)
      > txWethApprove1 - gasUsed: 46179 ~ ETH 0.00092358 ~ USD 1.84716 @ gasPrice 20.0 gwei, ETH/USD 2000.0
        + weth:0x5FbD -> 8.0 Approval(tokenOwner: user1:0x3C44, spender: registryExchange:0x9fE4, tokens: 1111111111111000000000)
      > txWethApprove2 - gasUsed: 46179 ~ ETH 0.00092358 ~ USD 1.84716 @ gasPrice 20.0 gwei, ETH/USD 2000.0
        + weth:0x5FbD -> 9.0 Approval(tokenOwner: user2:0x90F7, spender: registryExchange:0x9fE4, tokens: 1111111111111000000000)

      --- Empty ---
       Id Account                                        ETH                     WETH
      --- ------------------------- ------------------------ ------------------------
        0 deployer:0xf39F            9999.995432677166811799                 997000.0
        1 user0:0x7099                9999.99993522870425665                   1000.0
        2 user1:0x3C44                9999.99993754558642348                   1000.0
        3 user2:0x90F7               9999.999939573749908954                   1000.0
        4 weth:0x5FbD                                    0.0                      0.0
        5 registry:0xe7f1                                0.0                      0.0
        6 registryReceiver:0xCafa                        0.0                      0.0
        7 registryExchange:0x9fE4                        0.0                      0.0

       Id String:Hash          Owner                          Registered
      --- -------------------- ------------------------------ ------------------------

      > tx0 - gasUsed: 95042 ~ ETH 0.00190084 ~ USD 3.80168 @ gasPrice 20.0 gwei, ETH/USD 2000.0
        + registry:0xe7f1 -> 10.0 Registered(tokenId: 0, hash: 0xaee086d8, owner: user0:0x7099, timestamp: 2023-08-16T12:57:32.000Z)
      user0 -> registry.setApprovalForAll(registryExchange, true)
      > tx5a - gasUsed: 46401 ~ ETH 0.00092802 ~ USD 1.85604 @ gasPrice 20.0 gwei, ETH/USD 2000.0
        + registry:0xe7f1 -> 15.0 ApprovalForAll(owner: user0:0x7099, operator: registryExchange:0x9fE4, approved: true, timestamp: 2023-08-16T12:57:37.000Z)
      user1 -> registry.setApprovalForAll(registryExchange, true)
      > tx5b - gasUsed: 46401 ~ ETH 0.00092802 ~ USD 1.85604 @ gasPrice 20.0 gwei, ETH/USD 2000.0
        + registry:0xe7f1 -> 16.0 ApprovalForAll(owner: user1:0x3C44, operator: registryExchange:0x9fE4, approved: true, timestamp: 2023-08-16T12:57:38.000Z)
      user0 -> registryExchange.offer(offerData)
      > tx6 - gasUsed: 96916 ~ ETH 0.00193832 ~ USD 3.87664 @ gasPrice 20.0 gwei, ETH/USD 2000.0
        + registryExchange:0x9fE4 -> 17.0 Offered(account: user0:0x7099, offers: 1,11000000000000000000,1692194245,2,22000000000000000000,1692194245,3,33000000000000000000,1692194245, timestamp: 2023-08-16T12:57:39.000Z)

      --- Setup Tokens ---
       Id Account                                        ETH                     WETH
      --- ------------------------- ------------------------ ------------------------
        0 deployer:0xf39F            9999.995432677166811799                 997000.0
        1 user0:0x7099               9999.999281560384360301                   1000.0
        2 user1:0x3C44               9999.999885496061517853                   1000.0
        3 user2:0x90F7               9999.999939573749908954                   1000.0
        4 weth:0x5FbD                                    0.0                      0.0
        5 registry:0xe7f1                                0.0                      0.0
        6 registryReceiver:0xCafa                        0.0                      0.0
        7 registryExchange:0x9fE4                        0.0                      0.0

       Id String:Hash          Owner                          Registered
      --- -------------------- ------------------------------ ------------------------
        0 "text0":0xaee0       user0:0x7099                   2023-08-16T12:57:32.000Z
        1 "text1":0x00da       user0:0x7099                   2023-08-16T12:57:33.000Z
        2 "text2":0xe5f0       user0:0x7099                   2023-08-16T12:57:34.000Z
        3 "text3":0x222d       user0:0x7099                   2023-08-16T12:57:35.000Z
        4 "text4":0x6d6c       user0:0x7099                   2023-08-16T12:57:36.000Z

      user1 -> registryExchange.purchase(purchaseData)
      > tx7 - gasUsed: 86407 ~ ETH 0.00172814 ~ USD 3.45628 @ gasPrice 20.0 gwei, ETH/USD 2000.0
        + registry:0xe7f1 -> 18.0 Transfer(from: user0:0x7099, to: user1:0x3C44, tokenId: 1, timestamp: 2023-08-16T12:57:40.000Z)
        + registryExchange:0x9fE4 -> 18.1 Purchased(from: user0:0x7099, to: user1:0x3C44, tokenId: 1, price: 11000000000000000000, timestamp: 2023-08-16T12:57:40.000Z)
        + registry:0xe7f1 -> 18.2 Transfer(from: user0:0x7099, to: user1:0x3C44, tokenId: 3, timestamp: 2023-08-16T12:57:40.000Z)
        + registryExchange:0x9fE4 -> 18.3 Purchased(from: user0:0x7099, to: user1:0x3C44, tokenId: 3, price: 33000000000000000000, timestamp: 2023-08-16T12:57:40.000Z)

      --- After Purchases ---
       Id Account                                        ETH                     WETH
      --- ------------------------- ------------------------ ------------------------
        0 deployer:0xf39F            9999.995432677166811799                 997000.0
        1 user0:0x7099              10043.999281560384360301                   1000.0
        2 user1:0x3C44               9955.999791024787108017                   1000.0
        3 user2:0x90F7               9999.999939573749908954                   1000.0
        4 weth:0x5FbD                                    0.0                      0.0
        5 registry:0xe7f1                                0.0                      0.0
        6 registryReceiver:0xCafa                        0.0                      0.0
        7 registryExchange:0x9fE4                        0.0                      0.0

       Id String:Hash          Owner                          Registered
      --- -------------------- ------------------------------ ------------------------
        0 "text0":0xaee0       user0:0x7099                   2023-08-16T12:57:32.000Z
        1 "text1":0x00da       user1:0x3C44                   2023-08-16T12:57:33.000Z
        2 "text2":0xe5f0       user0:0x7099                   2023-08-16T12:57:34.000Z
        3 "text3":0x222d       user1:0x3C44                   2023-08-16T12:57:35.000Z
        4 "text4":0x6d6c       user0:0x7099                   2023-08-16T12:57:36.000Z

      user2 -> registryExchange.bid(bidData)
      > tx8 - gasUsed: 96915 ~ ETH 0.0019383 ~ USD 3.8766 @ gasPrice 20.0 gwei, ETH/USD 2000.0
        + registryExchange:0x9fE4 -> 19.0 Bid(account: user2:0x90F7, bids: 1,11000000000000000000,1692194245,2,22000000000000000000,1692194245,3,33000000000000000000,1692194245, timestamp: 2023-08-16T12:57:41.000Z)
      user1 -> registryExchange.sell(saleData)
      > tx9 - gasUsed: 89959 ~ ETH 0.00179918 ~ USD 3.59836 @ gasPrice 20.0 gwei, ETH/USD 2000.0
        + weth:0x5FbD -> 20.0 Transfer(from: user2:0x90F7, to: user1:0x3C44, tokens: 11000000000000000000)
        + registry:0xe7f1 -> 20.1 Transfer(from: user1:0x3C44, to: user2:0x90F7, tokenId: 1, timestamp: 2023-08-16T12:57:42.000Z)
        + registryExchange:0x9fE4 -> 20.2 Sold(from: user1:0x3C44, to: user2:0x90F7, tokenId: 1, price: 11000000000000000000, timestamp: 2023-08-16T12:57:42.000Z)
        + weth:0x5FbD -> 20.3 Transfer(from: user2:0x90F7, to: user1:0x3C44, tokens: 33000000000000000000)
        + registry:0xe7f1 -> 20.4 Transfer(from: user1:0x3C44, to: user2:0x90F7, tokenId: 3, timestamp: 2023-08-16T12:57:42.000Z)
        + registryExchange:0x9fE4 -> 20.5 Sold(from: user1:0x3C44, to: user2:0x90F7, tokenId: 3, price: 33000000000000000000, timestamp: 2023-08-16T12:57:42.000Z)

      --- After Sales ---
       Id Account                                        ETH                     WETH
      --- ------------------------- ------------------------ ------------------------
        0 deployer:0xf39F            9999.995432677166811799                 997000.0
        1 user0:0x7099              10043.999281560384360301                   1000.0
        2 user1:0x3C44               9955.999694626541139243                   1044.0
        3 user2:0x90F7               9999.999834737883857674                    956.0
        4 weth:0x5FbD                                    0.0                      0.0
        5 registry:0xe7f1                                0.0                      0.0
        6 registryReceiver:0xCafa                        0.0                      0.0
        7 registryExchange:0x9fE4                        0.0                      0.0

       Id String:Hash          Owner                          Registered
      --- -------------------- ------------------------------ ------------------------
        0 "text0":0xaee0       user0:0x7099                   2023-08-16T12:57:32.000Z
        1 "text1":0x00da       user2:0x90F7                   2023-08-16T12:57:33.000Z
        2 "text2":0xe5f0       user0:0x7099                   2023-08-16T12:57:34.000Z
        3 "text3":0x222d       user2:0x90F7                   2023-08-16T12:57:35.000Z
        4 "text4":0x6d6c       user0:0x7099                   2023-08-16T12:57:36.000Z

      ✓ RegistryExchange #2

·------------------------------------------|---------------------------|-------------|-----------------------------·
|           [90mSolc version: 0.8.19[39m           ·  [90mOptimizer enabled: true[39m  ·  [90mRuns: 200[39m  ·  [90mBlock limit: 30000000 gas[39m  │
···········································|···························|·············|······························
|  [32m[1mMethods[22m[39m                                                                                                         │
·····················|·····················|·············|·············|·············|···············|··············
|  [1mContract[22m          ·  [1mMethod[22m             ·  [32mMin[39m        ·  [32mMax[39m        ·  [32mAvg[39m        ·  [1m# calls[22m      ·  [1musd (avg)[22m  │
·····················|·····················|·············|·············|·············|···············|··············
|  [90mRegistry[39m          ·  setApprovalForAll  ·          -  ·          -  ·      46401  ·            [90m4[39m  ·          [32m[90m-[32m[39m  │
·····················|·····················|·············|·············|·············|···············|··············
|  [90mRegistryExchange[39m  ·  bid                ·          -  ·          -  ·      96915  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
·····················|·····················|·············|·············|·············|···············|··············
|  [90mRegistryExchange[39m  ·  offer              ·          -  ·          -  ·      96916  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
·····················|·····················|·············|·············|·············|···············|··············
|  [90mRegistryExchange[39m  ·  purchase           ·          -  ·          -  ·      86407  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
·····················|·····················|·············|·············|·············|···············|··············
|  [90mRegistryExchange[39m  ·  sell               ·          -  ·          -  ·      89959  ·            [90m2[39m  ·          [32m[90m-[32m[39m  │
·····················|·····················|·············|·············|·············|···············|··············
|  [90mToken[39m             ·  approve            ·          -  ·          -  ·      46179  ·            [90m6[39m  ·          [32m[90m-[32m[39m  │
·····················|·····················|·············|·············|·············|···············|··············
|  [90mToken[39m             ·  transfer           ·      [36m51409[39m  ·      [31m51421[39m  ·      51417  ·            [90m6[39m  ·          [32m[90m-[32m[39m  │
·····················|·····················|·············|·············|·············|···············|··············
|  [32m[1mDeployments[22m[39m                             ·                                         ·  [1m% of limit[22m   ·             │
···········································|·············|·············|·············|···············|··············
|  Registry                                ·          -  ·          -  ·     812218  ·        [90m2.7 %[39m  ·          [32m[90m-[32m[39m  │
···········································|·············|·············|·············|···············|··············
|  RegistryExchange                        ·          -  ·          -  ·    1138762  ·        [90m3.8 %[39m  ·          [32m[90m-[32m[39m  │
···········································|·············|·············|·············|···············|··············
|  Token                                   ·          -  ·          -  ·     524265  ·        [90m1.7 %[39m  ·          [32m[90m-[32m[39m  │
·------------------------------------------|-------------|-------------|-------------|---------------|-------------·

  1 passing (872ms)

